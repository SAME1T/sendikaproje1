<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İletiler - İşçi Hakları ve Sendika İletişim Merkezi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <%- include('partials/navbar') %>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-4">
                <!-- İleti Oluşturma Formu -->
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Yeni İleti Oluştur</h3>
                        <form id="messageForm" class="mt-3">
                            <div class="mb-3">
                                <label for="messageType" class="form-label">Tür</label>
                                <select class="form-select" id="messageType" required>
                                    <option value="">Seçiniz</option>
                                    <option value="dilek">Dilek</option>
                                    <option value="sikayet">Şikayet</option>
                                    <option value="istek">İstek</option>
                                    <option value="gorus">Görüş</option>
                                    <option value="oneri">Öneri</option>
                                    <option value="tesekkur">Teşekkür</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="messageCategory" class="form-label">Kategori</label>
                                <div class="input-group">
                                    <span class="input-group-text">#</span>
                                    <input type="text" class="form-control" id="messageCategory" placeholder="Genel" required>
                                </div>
                                <div class="form-text">Örnek: Genel, Eğitim, Sağlık</div>
                            </div>

                            <div class="mb-3">
                                <label for="messageContent" class="form-label">İleti İçeriği</label>
                                <textarea class="form-control" id="messageContent" rows="5" required></textarea>
                            </div>

                            <div class="mb-3">
                                <label class="form-label d-block">Gizlilik</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="privacy" id="publicMessage" value="public" checked>
                                    <label class="form-check-label" for="publicMessage">
                                        <i class="fas fa-globe privacy-icon public"></i>
                                        Açık İleti (Herkes Görebilir)
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="privacy" id="privateMessage" value="private">
                                    <label class="form-check-label" for="privateMessage">
                                        <i class="fas fa-lock privacy-icon private"></i>
                                        Gizli İleti (Sadece Yetkililer)
                                    </label>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary w-100">
                                <i class="fas fa-paper-plane me-2"></i>Gönder
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-8">
                <!-- İletiler Listesi -->
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">İletiler</h3>
                        
                        <!-- Filtreler -->
                        <div class="filters mb-4">
                            <div class="row g-2">
                                <div class="col-md-4">
                                    <select class="form-select" id="typeFilter">
                                        <option value="">Tüm Türler</option>
                                        <option value="dilek">Dilek</option>
                                        <option value="sikayet">Şikayet</option>
                                        <option value="istek">İstek</option>
                                        <option value="gorus">Görüş</option>
                                        <option value="oneri">Öneri</option>
                                        <option value="tesekkur">Teşekkür</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <select class="form-select" id="statusFilter">
                                        <option value="">Tüm Durumlar</option>
                                        <option value="pending">Beklemede</option>
                                        <option value="processing">İşleniyor</option>
                                        <option value="solved">Çözüldü</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <select class="form-select" id="privacyFilter">
                                        <option value="">Tüm İletiler</option>
                                        <option value="public">Açık İletiler</option>
                                        <option value="private">Gizli İletiler</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- İleti Listesi -->
                        <div class="message-list">
                            <!-- Örnek İleti -->
                            <div class="message-item border rounded p-3 mb-3">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <span class="badge bg-primary me-2">Şikayet</span>
                                        <span class="badge bg-secondary">#Genel</span>
                                    </div>
                                    <div>
                                        <span class="badge badge-status solved">Çözüldü</span>
                                    </div>
                                </div>
                                <div class="message-content mt-3">
                                    <p>Teknoloji Fakültesi Yazılım Mühendisliği (İ.Ö) öğrencileri olarak İkinci öğretim olmamız hasebiyle ders bitiş zamanlarımız akşam saatlerindedir. Bu yüzden üniversite içi yolların yeterli aydınlatılması bizim için elzemdir. Üniversite Evi' nden kampüs gişelerine giden yoldaki aydınlatmaların bazıları bozulmuştur. En kısa zamanda gereğini arz ederiz.</p>
                                </div>
                                <div class="message-footer mt-3">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <i class="fas fa-user me-1"></i>
                                            <span>Mehmet Zeynel Özkan</span>
                                        </div>
                                        <div class="message-stats">
                                            <span class="me-3">
                                                <i class="far fa-clock"></i> 380
                                            </span>
                                            <span>
                                                <i class="far fa-comment"></i> 4
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Diğer iletiler buraya eklenecek -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <%- include('partials/footer') %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Form gönderimi
        document.getElementById('messageForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                type: document.getElementById('messageType').value,
                category: document.getElementById('messageCategory').value,
                content: document.getElementById('messageContent').value,
                privacy: document.querySelector('input[name="privacy"]:checked').value
            };

            // API'ye gönderme işlemi burada yapılacak
            console.log('Form data:', formData);
            
            // Form temizleme
            this.reset();
        });

        // Filtreleme işlemleri
        const filters = ['typeFilter', 'statusFilter', 'privacyFilter'];
        filters.forEach(filterId => {
            document.getElementById(filterId).addEventListener('change', function() {
                // Filtreleme işlemi burada yapılacak
                console.log(`${filterId} changed to:`, this.value);
            });
        });
    </script>
</body>
</html> 